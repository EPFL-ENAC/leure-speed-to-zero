{"remainingRequest":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/babel-loader/lib/index.js!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/src/components/tabs/employment/WagesPerSkill.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/src/components/tabs/employment/WagesPerSkill.vue","mtime":1707210098278},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/vue-loader/lib/index.js","mtime":1707234519986}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BarRangeChart from \"../../../charts/BarRangeChart.vue\";\nimport * as inputsService from \"../../../inputsService.js\";\nimport { ExamplePathways } from \"../../../config/examplePathways.js\";\nimport { EmploymentData } from \"./employmentData.js\";\nexport default {\n  name: 'WagesPerSkill',\n  components: {\n    BarRangeChart: BarRangeChart\n  },\n  props: ['subtab', 'outputs', 'chartDefinitions', 'countrycode', 'appState'],\n  data: function data() {\n    return {\n      chart1Data: undefined,\n      chart2Data: undefined,\n      isExamplePathway: this.appState.pathwayIndex > -1,\n      noData: undefined\n    };\n  },\n  methods: {\n    buildData: function buildData(chartIndex) {\n      var _this = this;\n\n      var currChart = this.chartDefinitions[this.subtab.charts[chartIndex]];\n      var currentPathwayName = ExamplePathways[this.appState.pathwayIndex].title;\n\n      if (!EmploymentData[currentPathwayName]) {\n        this.noData = true;\n        return undefined;\n      }\n\n      this.noData = false;\n      var data = [];\n      var categories = [];\n      currChart.variables.forEach(function (variable) {\n        categories.push(variable.title);\n        var output = EmploymentData[currentPathwayName][variable.id];\n        var value = parseFloat(output[_this.countrycode]); // value = value === 0 ? 0.5 : value;\n\n        data.push(value < 0 ? [value, 0] : [0, value]);\n      }); // console.log(categories,data);\n\n      return {\n        series: [{\n          data: data\n        }],\n        title: currChart.title,\n        unit: currChart.unit,\n        categories: categories\n      };\n    }\n  },\n  created: function created() {\n    // inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    setTimeout(function () {\n      inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    }, 0); // inputsService.deactivateCountryZoom();\n\n    if (this.isExamplePathway) {\n      this.chart1Data = this.buildData(0);\n      this.chart2Data = this.buildData(1);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    inputsService.activateAllGroups();\n  },\n  watch: {\n    'appState.pathwayIndex': function appStatePathwayIndex() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n\n      if (this.isExamplePathway) {\n        this.chart1Data = this.buildData(0);\n        this.chart2Data = this.buildData(1);\n      }\n    },\n    // important, this component also lets you zoom into a country (dropwdown where the outputs are shown)\n    countrycode: function countrycode() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n\n      if (this.isExamplePathway) {\n        this.chart1Data = this.buildData(0);\n        this.chart2Data = this.buildData(1);\n      }\n    }\n  }\n};",{"version":3,"sources":["WagesPerSkill.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"subtab-content\" id=\"wages-per-skill\">\n    <div v-if=\"chart1Data && chart2Data && isExamplePathway && !noData\" class=\"tsasbs-cont\">\n      <div class=\"tsasbs-chart\">\n        <BarRangeChart :chart-data=\"chart1Data\"/>\n      </div>\n      <div class=\"tsasbs-chart\">\n        <BarRangeChart :chart-data=\"chart2Data\"/>\n      </div>\n    </div>\n\n    <div v-if=\"chart1Data && chart2Data && isExamplePathway && !noData\" class=\"chart-info\">\n      <p>\n        The workers’ level of education are defined following the International standard classification of education (ISCED):\n      </p>\n      <ul>\n        <li>Unskilled worker: primary and secondary education (ISCED levels 0-4)</li>\n        <li>Skilled worker: tertiary education (ISCED levels 5-8)</li>\n      </ul>\n      <p>\n        The change in employment differs depending on the workers’ level of education. Indeed, decarbonization could for instance foster industries that have a higher demand of skilled workers than of unskilled labour.\n      </p>\n    </div>\n\n    <div v-if=\"!isExamplePathway\" class=\"subtab-error\">\n      <p>\n        Data for this tab is only available for example pathways.<br>\n        Please choose an example pathway.\n      </p>\n    </div>\n    <div v-if=\"isExamplePathway && noData\" class=\"subtab-error\">\n      <p>\n        There is no data yet available for this example pathway.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BarRangeChart from '../../../charts/BarRangeChart.vue';\n\nimport * as inputsService from '../../../inputsService.js';\nimport {ExamplePathways} from '../../../config/examplePathways.js';\n\nimport {EmploymentData} from './employmentData.js';\n\nexport default {\n  name: 'WagesPerSkill',\n  components: {BarRangeChart},\n  props: ['subtab','outputs','chartDefinitions','countrycode','appState'],\n  data() {\n    return {\n      chart1Data: undefined,\n      chart2Data: undefined,\n      isExamplePathway: this.appState.pathwayIndex > -1,\n      noData: undefined\n    }\n  },\n  methods: {\n    buildData(chartIndex) {\n      let currChart = this.chartDefinitions[this.subtab.charts[chartIndex]];\n\n      let currentPathwayName = ExamplePathways[this.appState.pathwayIndex].title;\n\n      if(!EmploymentData[currentPathwayName]) {\n        this.noData = true;\n        return undefined;\n      }\n\n      this.noData = false;\n\n      let data = [];\n      let categories = [];\n\n      currChart.variables.forEach((variable) => {\n\n        categories.push(variable.title);\n\n        let output = EmploymentData[currentPathwayName][variable.id];\n        let value = parseFloat(output[this.countrycode]);\n        // value = value === 0 ? 0.5 : value;\n        data.push(\n          value < 0 ? [value,0] : [0,value]\n        );\n\n      });\n\n      // console.log(categories,data);\n\n      return {\n        series: [{\n          data: data\n        }],\n        title: currChart.title,\n        unit: currChart.unit,\n        categories: categories\n      };\n    }\n  },\n  created() {\n    // inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    setTimeout(() => {\n      inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    },0);\n    // inputsService.deactivateCountryZoom();\n\n    if(this.isExamplePathway) {\n      this.chart1Data = this.buildData(0);\n      this.chart2Data = this.buildData(1);\n    }\n  },\n  beforeDestroy() {\n    inputsService.activateAllGroups();\n  },\n  watch: {\n    'appState.pathwayIndex': function() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n      if(this.isExamplePathway) {\n        this.chart1Data = this.buildData(0);\n        this.chart2Data = this.buildData(1);\n      }\n    },\n    // important, this component also lets you zoom into a country (dropwdown where the outputs are shown)\n    countrycode: function() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n      if(this.isExamplePathway) {\n        this.chart1Data = this.buildData(0);\n        this.chart2Data = this.buildData(1);\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n#wages-per-skill .tsasbs-cont {\n  max-height: 400px;\n}\n.mobile #wages-per-skill .tsasbs-cont {\n  max-height: none;\n}\n</style>\n"],"sourceRoot":"src/components/tabs/employment"}]}