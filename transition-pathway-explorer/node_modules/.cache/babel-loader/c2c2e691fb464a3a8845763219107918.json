{"remainingRequest":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/eslint-loader/index.js??ref--13-0!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/outputsService.js","dependencies":[{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/outputsService.js","mtime":1707210098284},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/eslint-loader/index.js","mtime":1707234519720}],"contextDependencies":[],"result":["import _slicedToArray from \"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport Vue from \"vue\";\nimport * as helpers from \"./helpers.js\";\nimport { findNullstellen } from \"./chartSeriesBuilders.js\";\nimport * as dataService from \"./dataService.js\";\nimport { appState } from \"./dataService.js\";\nexport var tabs; // necessary for tab-menu and holding subtab information\n\n// the chart identifiers only need to be unique inside their tab\nexport var chartDefinitions = [];\nexport var outputsByTabs = []; // necessary for fetching\nexport var outputs = {}; // holding the API response data\n\nexport var netZeroYear = {\n  value: 0\n}; // made reactive in EmissionsBar.vue\n\nexport var routes = {}; // tab-indices of routes\nexport var tabRoutes = {}; // routes of tab-indices\n\nexport var warningsInfos = {};\nexport var warnings = {\n  // // structure example:\n  // \"warningId\": \"orange\", //or 1/2\n  // development data:\n  // \"Water scarcity\": \"orange\",\n  // \"Drought risk\": \"red\"\n}; //reactive data!!\n\n//don't write warnings into tabs Object, keep it separate\nexport var tabsWithWarnings = []; //reactive\n\nexport var outputsThatAreAlwaysRequested = [\"clt_cum-emissions-CO2e[Mt]\", \"emissions-CO2e[Mt]\"];\nvar outputModifiers = {\n  round: function round(value) {\n    return Math.round(value);\n  }\n};\n\n// countryzoom can also be disabled for an individual subtab with the countryZoomDisabled flag inside\n// the subtab definitions\nexport var zoomableComponents = ['OneChart', 'TwoCharts', 'GHGEmissions', 'ChangePerSector', 'WagesPerSkill'\n// 'SingleStackedArea',\n// 'SingleLineChart',\n// 'SingleStackedAreaWithNegative',\n// 'SingleStackedAreaPercent',\n// 'TwoStackedArea',\n// 'TwoStackedArea100Percent',\n// 'TwoStackedAreaSideBySide'\n];\nexport var chartTypeToComponentMap = {\n  \"Line\": \"LineChart\",\n  \"StackedArea\": \"StackedAreaChart\",\n  \"StackedAreaNegative\": \"StackedAreaChart\",\n  \"StackedAreaPercent\": \"StackedAreaChart100Percent\"\n};\nexport function getOutputList() {\n  var outputPoolObject = {};\n  chartDefinitions.forEach(function (tab) {\n    Object.keys(tab).forEach(function (chartId) {\n      var chart = tab[chartId];\n      // console.log('chart ', tab, chart);\n      chart.outputs.forEach(function (output) {\n        outputPoolObject[output.id] = true;\n      });\n    });\n  });\n  outputsThatAreAlwaysRequested.forEach(function (outp) {\n    outputPoolObject[outp] = true;\n  });\n  console.log(\"getOutputList \", JSON.stringify(Object.keys(outputPoolObject), null, 2));\n}\nfunction initChartsForTab(tabIndex, chartDefs) {\n  chartDefinitions[tabIndex] = {};\n\n  // outputsByTab need to hold at least en empty object for each tab\n  createRowInOutputsByTab(tabIndex);\n  Object.keys(chartDefs).forEach(function (chartId) {\n    var chart = chartDefs[chartId];\n\n    // convert output-string-array elements to objects\n    var outputs = [];\n    chart.outputs.forEach(function (outp) {\n      var output;\n      if (helpers.isObject(outp)) {\n        output = outp;\n      } else if (typeof outp === 'string') {\n        output = {\n          id: outp\n        };\n      }\n      if (!output) {\n        return;\n      }\n      sortOutputIntoOutputsByTabs(tabIndex, output);\n      outputs.push(output);\n    });\n    chart.outputs = outputs;\n\n    // replace modifier string (if present) with modifier-function\n    if (chart.modifier) {\n      if (outputModifiers[chart.modifier]) {\n        chart.modifier = outputModifiers[chart.modifier];\n      } else {\n        delete chart.modifier;\n      }\n    }\n\n    // add chart to chartDefinitions\n    chartDefinitions[tabIndex][chartId] = chart;\n  });\n}\nfunction createRowInOutputsByTab(tabIndex) {\n  outputsByTabs[tabIndex] = {};\n}\nfunction sortOutputIntoOutputsByTabs(tabIndex, outp) {\n  // don't overwrite existing entries (we don't want to lose any allCountries flags)\n  if (!outputsByTabs[tabIndex][outp.id]) {\n    outputsByTabs[tabIndex][outp.id] = {};\n  }\n  if (outp.allCountries === true) {\n    //won't be unset once it is set\n    outputsByTabs[tabIndex][outp.id].allCountries = true;\n  }\n  // if(outp.color) {\n  //   outputsByTabs[tabIndex][outp.id].color = outp.color;\n  // }\n}\nfunction initSubtabsOfTab(subtabs) {\n  return subtabs.map(function (subtab) {\n    // don't overwrite existing component properties (these are for custom components)\n    if (!subtab.component) {\n      if (subtab.charts.length === 1) {\n        subtab.component = 'OneChart';\n      } else if (subtab.charts.length === 2) {\n        subtab.component = 'TwoCharts';\n      }\n    }\n    return subtab;\n  });\n}\nexport function initTabs(tabData, allTabDetails) {\n  tabs = [];\n  tabData.forEach(function (tab, tabIndex) {\n    var tabObj = {\n      title: tab.title,\n      route: tab.route,\n      subtabs: []\n    };\n    tabs.push(tabObj);\n    var detailsKey = tab.detailsKey;\n    if (!detailsKey) {\n      return;\n    }\n\n    // get subtab-information\n    var tabDetails = allTabDetails[detailsKey];\n    if (!tabDetails) {\n      return;\n    }\n\n    // init all charts for that tab (not subtab)\n    initChartsForTab(tabIndex, tabDetails.charts);\n\n    // determine component for subtab\n    tabObj.subtabs = initSubtabsOfTab(tabDetails.subtabs);\n  });\n  console.log(\"initTabs\", tabs, outputsByTabs);\n}\nexport function initTabRoutes() {\n  tabs.forEach(function (tab, tabIndex) {\n    routes[tab.route] = {\n      index: tabIndex\n    };\n    tabRoutes[tabIndex] = {\n      \"route\": tab.route\n    };\n    tab.subtabs.forEach(function (subtab, subTabIndex) {\n      routes[tab.route][subtab.route] = {\n        index: subTabIndex\n      };\n      tabRoutes[tabIndex][subTabIndex] = {\n        \"route\": subtab.route\n      };\n    });\n  });\n}\nexport function initWarningsInfos(warningInfoData) {\n  console.log('initWarningsInfos ', warningInfoData);\n  // warningsInfos = wrngs;\n  Object.keys(warningInfoData).forEach(function (warnId) {\n    warningsInfos[warnId] = warningInfoData[warnId];\n    // not async anymore, no Vue.set() necessay\n    // Vue.set(warningsInfos, warnId, warningInfoData[warnId]);\n  });\n}\nexport function selectSubTab(ind, shouldSetURL) {\n  //shouldSetURL should only be undefined when selectSubTab() is called from a route callback\n  //because then the route/URL is apparently already correct\n  appState.activeSubtab = ind; //import as appState, not as dataService.appState\n  console.log('selectSubTab ', ind);\n  if (shouldSetURL) {\n    dataService.rewriteURL();\n  }\n}\nexport function selectTab(ind, subtabInd, shouldSetURL) {\n  console.log('selectTab ', ind, appState.activeTab);\n  if (appState.activeTab === ind) {\n    //no need to start a fetch, if necessary just set the subtab (with updating the url) and exit\n    if (appState.activeSubtab !== subtabInd) {\n      selectSubTab(subtabInd, shouldSetURL);\n    }\n    // console.log('selectTab exit');\n    return;\n  }\n  appState.activeTab = ind;\n  appState.activeSubtab = subtabInd;\n  if (appState.userAction.indexOf('tabChange') < 0) {\n    appState.userAction.push('tabChange');\n  }\n\n  //shouldSetURL should only be false when selectTab() is called from certain route callbacks\n  //this function can be called from a user-action or from a route-callback, if called from a route-callback, a url-rewrite is unwanted\n  if (shouldSetURL) {\n    dataService.rewriteURL();\n  }\n\n  //empty outputs object, but keep reference\n  //changing outputs won't trigger any sub-tab watches since they are not mounted due to appState.userAction === 'tabChange'\n  helpers.emptyObject(outputs);\n}\nexport function setCountryZoom(index) {\n  // console.log('setCountryZoom ', index);\n  appState.countryZoomIndex = index;\n  // if index is out of bounds or not supported by current subtab,\n  // then it get's corrected in Outputs.vue on created() or on lastAPIResponse watch\n}\nexport function calculateNetZero() {\n  var nullStellenId = 'emissions-CO2e[Mt]';\n  var nullstellenOutput = outputs[nullStellenId];\n  var series = [{\n    id: nullStellenId,\n    data: nullstellenOutput.data['EU'].map(function (point) {\n      return {\n        y: point\n      };\n    })\n  }];\n  var _findNullstellen = findNullstellen(nullstellenOutput.timeAxis, series),\n    _findNullstellen2 = _slicedToArray(_findNullstellen, 2),\n    nullstellen = _findNullstellen2[0],\n    nullStellenBySeriesId = _findNullstellen2[1];\n  if (nullStellenBySeriesId && Object.prototype.hasOwnProperty.call(nullStellenBySeriesId, nullStellenId) && nullStellenBySeriesId[nullStellenId][0]) {\n    Vue.set(netZeroYear, 'value', Math.floor(nullStellenBySeriesId[nullStellenId][0]));\n  } else {\n    Vue.set(netZeroYear, 'value', 0);\n  }\n}\nexport function parseOutputs(raw) {\n  raw.forEach(function (outpt) {\n    //if output still undefined\n    if (!outputs[outpt.id]) {\n      Vue.set(outputs, outpt.id, {});\n      var title = outpt.title;\n      Vue.set(outputs[outpt.id], 'title', title ? title : outpt.id); //initialise title with id as fallback\n    }\n    //initially timeAxis is not present, so use Vue.set()\n    Vue.set(outputs[outpt.id], 'timeAxis', outpt.timeAxis);\n    Vue.set(outputs[outpt.id], 'data', outpt.data);\n  });\n  //console.log('parseOutputs ', outputs);\n}\nexport function parseWarnings(warns) {\n  var levelWords = [\"orange\", \"red\"];\n\n  // clear warnings object\n  // not actually necessary in the current code, but feels safer regarding future changes\n  helpers.emptyReactiveObject(warnings);\n\n  // clear the reactive tabsWithWarnings array first\n  // don't assign a new array, because that would kill the reactivity\n  helpers.emptyArray(tabsWithWarnings);\n  warns.forEach(function (wrng) {\n    var id = wrng.id;\n    if (!id) {\n      return;\n    }\n    var level = parseInt(wrng.level);\n    if ([1, 2].indexOf(level) < 0) {\n      return;\n    }\n    level = levelWords[level - 1];\n    warnings[id] = level;\n    // console.log('warningsInfos ', warningsInfos, id, warns);\n\n    var warningInfo = warningsInfos[id];\n    if (warningInfo && warningInfo.tabs) {\n      warningInfo.tabs.forEach(function (tab) {\n        if (tabsWithWarnings.indexOf(tab) < 0) {\n          tabsWithWarnings.push(tab);\n        }\n      });\n    }\n  });\n}",{"version":3,"names":["Vue","helpers","findNullstellen","dataService","appState","tabs","chartDefinitions","outputsByTabs","outputs","netZeroYear","value","routes","tabRoutes","warningsInfos","warnings","tabsWithWarnings","outputsThatAreAlwaysRequested","outputModifiers","round","Math","zoomableComponents","chartTypeToComponentMap","getOutputList","outputPoolObject","forEach","tab","Object","keys","chartId","chart","output","id","outp","console","log","JSON","stringify","initChartsForTab","tabIndex","chartDefs","createRowInOutputsByTab","isObject","sortOutputIntoOutputsByTabs","push","modifier","allCountries","initSubtabsOfTab","subtabs","map","subtab","component","charts","length","initTabs","tabData","allTabDetails","tabObj","title","route","detailsKey","tabDetails","initTabRoutes","index","subTabIndex","initWarningsInfos","warningInfoData","warnId","selectSubTab","ind","shouldSetURL","activeSubtab","rewriteURL","selectTab","subtabInd","activeTab","userAction","indexOf","emptyObject","setCountryZoom","countryZoomIndex","calculateNetZero","nullStellenId","nullstellenOutput","series","data","point","y","_findNullstellen","timeAxis","_findNullstellen2","_slicedToArray","nullstellen","nullStellenBySeriesId","prototype","hasOwnProperty","call","set","floor","parseOutputs","raw","outpt","parseWarnings","warns","levelWords","emptyReactiveObject","emptyArray","wrng","level","parseInt","warningInfo"],"sources":["/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/outputsService.js"],"sourcesContent":["import Vue from \"vue\";\nimport * as helpers from './helpers.js';\nimport {findNullstellen} from './chartSeriesBuilders.js';\n\nimport * as dataService from './dataService.js';\nimport {appState} from './dataService.js';\n\nexport var tabs; // necessary for tab-menu and holding subtab information\n\n// the chart identifiers only need to be unique inside their tab\nexport var chartDefinitions = [];\n\nexport var outputsByTabs = []; // necessary for fetching\nexport var outputs = {};  // holding the API response data\n\nexport var netZeroYear = {\n  value: 0\n}; // made reactive in EmissionsBar.vue\n\nexport var routes = {};    // tab-indices of routes\nexport var tabRoutes = {}; // routes of tab-indices\n\nexport var warningsInfos = {};\nexport var warnings = {\n  // // structure example:\n  // \"warningId\": \"orange\", //or 1/2\n  // development data:\n  // \"Water scarcity\": \"orange\",\n  // \"Drought risk\": \"red\"\n}; //reactive data!!\n\n//don't write warnings into tabs Object, keep it separate\nexport var tabsWithWarnings = []; //reactive\n\nexport var outputsThatAreAlwaysRequested = [\n  \"clt_cum-emissions-CO2e[Mt]\",\n  \"emissions-CO2e[Mt]\"\n];\n\nvar outputModifiers = {\n  round: (value) => Math.round(value)\n};\n\n// countryzoom can also be disabled for an individual subtab with the countryZoomDisabled flag inside\n// the subtab definitions\nexport var zoomableComponents = [\n  'OneChart',\n  'TwoCharts',\n  'GHGEmissions',\n  'ChangePerSector',\n  'WagesPerSkill'\n  // 'SingleStackedArea',\n  // 'SingleLineChart',\n  // 'SingleStackedAreaWithNegative',\n  // 'SingleStackedAreaPercent',\n  // 'TwoStackedArea',\n  // 'TwoStackedArea100Percent',\n  // 'TwoStackedAreaSideBySide'\n];\n\nexport var chartTypeToComponentMap = {\n  \"Line\": \"LineChart\",\n  \"StackedArea\": \"StackedAreaChart\",\n  \"StackedAreaNegative\": \"StackedAreaChart\",\n  \"StackedAreaPercent\": \"StackedAreaChart100Percent\"\n}\n\nexport function getOutputList() {\n  var outputPoolObject = {};\n\n  chartDefinitions.forEach((tab) => {\n    Object.keys(tab).forEach((chartId) => {\n      let chart = tab[chartId];\n      // console.log('chart ', tab, chart);\n      chart.outputs.forEach((output) => {\n        outputPoolObject[output.id] = true;\n      });\n    });\n  });\n\n  outputsThatAreAlwaysRequested.forEach((outp) => {\n    outputPoolObject[outp] = true;\n  })\n\n  console.log(\"getOutputList \", JSON.stringify(Object.keys(outputPoolObject),null,2));\n}\n\nfunction initChartsForTab(tabIndex, chartDefs) {\n  chartDefinitions[tabIndex] = {};\n\n  // outputsByTab need to hold at least en empty object for each tab\n  createRowInOutputsByTab(tabIndex);\n\n  Object.keys(chartDefs).forEach((chartId)=> {\n    let chart = chartDefs[chartId];\n\n    // convert output-string-array elements to objects\n    let outputs = [];\n    chart.outputs.forEach((outp) => {\n      let output;\n\n      if(helpers.isObject(outp)) {\n        output = outp;\n      } else if (typeof outp === 'string') {\n        output = {id:outp};\n      }\n\n      if(!output) {\n        return;\n      }\n\n      sortOutputIntoOutputsByTabs(tabIndex, output);\n\n      outputs.push(output);\n    });\n    chart.outputs = outputs;\n\n    // replace modifier string (if present) with modifier-function\n    if(chart.modifier) {\n      if(outputModifiers[chart.modifier]) {\n        chart.modifier = outputModifiers[chart.modifier];\n      } else {\n        delete chart.modifier;\n      }\n    }\n\n    // add chart to chartDefinitions\n    chartDefinitions[tabIndex][chartId] = chart;\n  });\n}\n\nfunction createRowInOutputsByTab(tabIndex) {\n  outputsByTabs[tabIndex] = {};\n}\n\nfunction sortOutputIntoOutputsByTabs(tabIndex, outp) {\n  // don't overwrite existing entries (we don't want to lose any allCountries flags)\n  if(!outputsByTabs[tabIndex][outp.id]) {\n    outputsByTabs[tabIndex][outp.id] = {};\n  }\n  if(outp.allCountries === true) {\n    //won't be unset once it is set\n    outputsByTabs[tabIndex][outp.id].allCountries = true;\n  }\n  // if(outp.color) {\n  //   outputsByTabs[tabIndex][outp.id].color = outp.color;\n  // }\n}\n\nfunction initSubtabsOfTab(subtabs) {\n  return subtabs.map((subtab) => {\n    // don't overwrite existing component properties (these are for custom components)\n    if(!subtab.component) {\n      if(subtab.charts.length === 1) {\n        subtab.component = 'OneChart'\n      }\n      else if(subtab.charts.length === 2) {\n        subtab.component = 'TwoCharts'\n      }\n    }\n    return subtab;\n  });\n}\n\nexport function initTabs(tabData, allTabDetails) {\n  tabs = [];\n\n  tabData.forEach((tab, tabIndex) => {\n    let tabObj = {\n      title: tab.title,\n      route: tab.route,\n      subtabs: []\n    };\n    tabs.push(tabObj);\n\n    let detailsKey = tab.detailsKey;\n    if(!detailsKey) {\n      return;\n    }\n\n    // get subtab-information\n    let tabDetails = allTabDetails[detailsKey];\n    if(!tabDetails) {\n      return;\n    }\n\n    // init all charts for that tab (not subtab)\n    initChartsForTab(tabIndex, tabDetails.charts);\n\n    // determine component for subtab\n    tabObj.subtabs = initSubtabsOfTab(tabDetails.subtabs);\n  });\n  console.log(\"initTabs\", tabs, outputsByTabs);\n}\n\nexport function initTabRoutes() {\n\n  tabs.forEach((tab, tabIndex) => {\n    routes[tab.route] = {index: tabIndex};\n    tabRoutes[tabIndex] = {\"route\": tab.route};\n    tab.subtabs.forEach(function(subtab, subTabIndex) {\n      routes[tab.route][subtab.route]={index: subTabIndex};\n      tabRoutes[tabIndex][subTabIndex] = {\"route\": subtab.route};\n    });\n  });\n\n}\n\nexport function initWarningsInfos(warningInfoData) {\n  console.log('initWarningsInfos ', warningInfoData)\n  // warningsInfos = wrngs;\n  Object.keys(warningInfoData).forEach((warnId) => {\n    warningsInfos[warnId] = warningInfoData[warnId];\n    // not async anymore, no Vue.set() necessay\n    // Vue.set(warningsInfos, warnId, warningInfoData[warnId]);\n  });\n}\n\nexport function selectSubTab(ind, shouldSetURL) {\n  //shouldSetURL should only be undefined when selectSubTab() is called from a route callback\n  //because then the route/URL is apparently already correct\n  appState.activeSubtab = ind; //import as appState, not as dataService.appState\n  console.log('selectSubTab ', ind)\n  if(shouldSetURL) {\n    dataService.rewriteURL();\n  }\n}\n\nexport function selectTab(ind, subtabInd, shouldSetURL) {\n\n  console.log('selectTab ', ind, appState.activeTab);\n\n  if(appState.activeTab === ind) {\n    //no need to start a fetch, if necessary just set the subtab (with updating the url) and exit\n    if(appState.activeSubtab !== subtabInd) {\n      selectSubTab(subtabInd, shouldSetURL);\n    }\n    // console.log('selectTab exit');\n    return;\n  }\n\n  appState.activeTab = ind;\n  appState.activeSubtab = subtabInd;\n\n  if(appState.userAction.indexOf('tabChange') < 0) {\n    appState.userAction.push('tabChange');\n  }\n\n  //shouldSetURL should only be false when selectTab() is called from certain route callbacks\n  //this function can be called from a user-action or from a route-callback, if called from a route-callback, a url-rewrite is unwanted\n  if(shouldSetURL) {\n    dataService.rewriteURL();\n  }\n\n  //empty outputs object, but keep reference\n  //changing outputs won't trigger any sub-tab watches since they are not mounted due to appState.userAction === 'tabChange'\n  helpers.emptyObject(outputs);\n}\n\nexport function setCountryZoom(index) {\n  // console.log('setCountryZoom ', index);\n  appState.countryZoomIndex = index;\n  // if index is out of bounds or not supported by current subtab,\n  // then it get's corrected in Outputs.vue on created() or on lastAPIResponse watch\n}\n\nexport function calculateNetZero() {\n  let nullStellenId = 'emissions-CO2e[Mt]';\n\n  let nullstellenOutput = outputs[nullStellenId];\n\n  let series = [{\n    id: nullStellenId,\n    data: nullstellenOutput.data['EU'].map((point) => {return {y:point};})\n  }];\n\n  let [nullstellen, nullStellenBySeriesId] = findNullstellen(nullstellenOutput.timeAxis, series);\n\n  if(\n    nullStellenBySeriesId &&\n    Object.prototype.hasOwnProperty.call(nullStellenBySeriesId, nullStellenId) &&\n    nullStellenBySeriesId[nullStellenId][0]\n  ) {\n    Vue.set(netZeroYear, 'value', Math.floor(nullStellenBySeriesId[nullStellenId][0]));\n  } else {\n    Vue.set(netZeroYear, 'value', 0);\n  }\n}\n\nexport function parseOutputs(raw) {\n  raw.forEach(function(outpt) {\n    //if output still undefined\n    if(!outputs[outpt.id]) {\n      Vue.set(outputs, outpt.id, {});\n      let title = outpt.title;\n      Vue.set(outputs[outpt.id], 'title', title ? title : outpt.id); //initialise title with id as fallback\n    }\n    //initially timeAxis is not present, so use Vue.set()\n    Vue.set(outputs[outpt.id], 'timeAxis', outpt.timeAxis);\n\n    Vue.set(outputs[outpt.id], 'data', outpt.data);\n  });\n  //console.log('parseOutputs ', outputs);\n}\n\nexport function parseWarnings(warns) {\n\n  let levelWords = [\"orange\", \"red\"];\n\n  // clear warnings object\n  // not actually necessary in the current code, but feels safer regarding future changes\n  helpers.emptyReactiveObject(warnings);\n\n  // clear the reactive tabsWithWarnings array first\n  // don't assign a new array, because that would kill the reactivity\n  helpers.emptyArray(tabsWithWarnings);\n\n  warns.forEach((wrng) => {\n    let id = wrng.id;\n    if(!id) {\n      return;\n    }\n    let level = parseInt(wrng.level);\n\n    if([1,2].indexOf(level) < 0) {\n      return;\n    }\n\n    level = levelWords[level-1];\n    warnings[id] = level;\n    // console.log('warningsInfos ', warningsInfos, id, warns);\n\n    let warningInfo = warningsInfos[id];\n    if(warningInfo && warningInfo.tabs) {\n      warningInfo.tabs.forEach((tab)=> {\n        if(tabsWithWarnings.indexOf(tab) < 0) {\n          tabsWithWarnings.push(tab);\n        }\n      });\n    }\n  });\n}\n"],"mappings":"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"}]}