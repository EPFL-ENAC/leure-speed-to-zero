{"remainingRequest":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/babel-loader/lib/index.js!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/src/lib/PopUpSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/src/lib/PopUpSelect.vue","mtime":1707210098283},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/vue-loader/lib/index.js","mtime":1707234519986}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'PopUpSelect',\n  props: ['toggleElem', 'items', 'nameProp', 'title', 'callback'],\n  data: function data() {\n    return {\n      open: false,\n      selectedIndex: 0\n    };\n  },\n  methods: {\n    toggleOpen: function toggleOpen(value) {\n      this.open = value;\n\n      if (!this.open) {\n        this.selectedIndex = 0;\n        return;\n      } else {\n        this.$refs.popup.focus();\n      }\n    },\n    prevItem: function prevItem() {\n      if (this.selectedIndex > 0) {\n        this.selectedIndex--;\n        this.scrollToSelected();\n      }\n    },\n    nextItem: function nextItem() {\n      if (this.selectedIndex < this.items.length - 1) {\n        this.selectedIndex++;\n        this.scrollToSelected();\n      }\n    },\n    selectItem: function selectItem(ind) {\n      if (ind >= 0 && this.items[ind]) {\n        if (this.callback) {\n          this.callback(this.items[ind], ind);\n        }\n      }\n\n      this.toggleOpen(false);\n    },\n    getItemName: function getItemName(ind) {\n      if (this.nameProp && this.items[ind] && this.items[ind].hasOwnProperty(this.nameProp)) {\n        return this.items[ind][this.nameProp];\n      }\n\n      return '';\n    },\n    scrollToSelected: function scrollToSelected() {\n      var item = this.$refs.items[this.selectedIndex];\n\n      if (!item) {\n        return;\n      } // the itemsHeight and itemsContHeight could also be cached, but well, there are no other expensive processes running in the background anyways\n\n\n      var itemBCR = item.getBoundingClientRect();\n      var itemsHeight = itemBCR.height; // all items have the same height\n\n      var itemTop = itemsHeight * this.selectedIndex;\n      var itemBottom = itemsHeight * (this.selectedIndex + 1);\n      var itemsCont = this.$refs.itemscontainer;\n      var itemsContHeight = itemsCont.getBoundingClientRect().height;\n\n      if (itemBottom < itemsCont.scrollTop) {\n        itemsCont.scrollTop = itemTop;\n      }\n\n      if (itemTop > itemsCont.scrollTop + itemsContHeight) {\n        itemsCont.scrollTop = itemBottom - itemsContHeight;\n      }\n\n      if (itemBottom > itemsCont.scrollTop + itemsContHeight) {\n        itemsCont.scrollTop = itemBottom - itemsContHeight;\n      }\n\n      if (itemTop < itemsCont.scrollTop) {\n        itemsCont.scrollTop = itemTop;\n      }\n    },\n    handleFocusOut: function handleFocusOut() {\n      this.toggleOpen(false);\n    }\n  }\n};",{"version":3,"sources":["PopUpSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA,CAAA,YAAA,EAAA,OAAA,EAAA,UAAA,EAAA,OAAA,EAAA,UAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,KADA,EACA;AACA,WAAA,IAAA,GAAA,KAAA;;AACA,UAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,aAAA,GAAA,CAAA;AACA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA;AACA,KATA;AAUA,IAAA,QAVA,sBAUA;AACA,UAAA,KAAA,aAAA,GAAA,CAAA,EAAA;AACA,aAAA,aAAA;AACA,aAAA,gBAAA;AACA;AACA,KAfA;AAgBA,IAAA,QAhBA,sBAgBA;AACA,UAAA,KAAA,aAAA,GAAA,KAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,aAAA;AACA,aAAA,gBAAA;AACA;AACA,KArBA;AAsBA,IAAA,UAtBA,sBAsBA,GAtBA,EAsBA;AACA,UAAA,GAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,QAAA,EAAA;AACA,eAAA,QAAA,CAAA,KAAA,KAAA,CAAA,GAAA,CAAA,EAAA,GAAA;AACA;AACA;;AACA,WAAA,UAAA,CAAA,KAAA;AACA,KA7BA;AA8BA,IAAA,WA9BA,uBA8BA,GA9BA,EA8BA;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,KAAA,CAAA,GAAA,CAAA,IAAA,KAAA,KAAA,CAAA,GAAA,EAAA,cAAA,CAAA,KAAA,QAAA,CAAA,EAAA;AACA,eAAA,KAAA,KAAA,CAAA,GAAA,EAAA,KAAA,QAAA,CAAA;AACA;;AACA,aAAA,EAAA;AACA,KAnCA;AAoCA,IAAA,gBApCA,8BAoCA;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,aAAA,CAAA;;AACA,UAAA,CAAA,IAAA,EAAA;AACA;AACA,OAJA,CAMA;;;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,qBAAA,EAAA;AACA,UAAA,WAAA,GAAA,OAAA,CAAA,MAAA,CARA,CAQA;;AAEA,UAAA,OAAA,GAAA,WAAA,GAAA,KAAA,aAAA;AACA,UAAA,UAAA,GAAA,WAAA,IAAA,KAAA,aAAA,GAAA,CAAA,CAAA;AAEA,UAAA,SAAA,GAAA,KAAA,KAAA,CAAA,cAAA;AACA,UAAA,eAAA,GAAA,SAAA,CAAA,qBAAA,GAAA,MAAA;;AAEA,UAAA,UAAA,GAAA,SAAA,CAAA,SAAA,EAAA;AACA,QAAA,SAAA,CAAA,SAAA,GAAA,OAAA;AACA;;AACA,UAAA,OAAA,GAAA,SAAA,CAAA,SAAA,GAAA,eAAA,EAAA;AACA,QAAA,SAAA,CAAA,SAAA,GAAA,UAAA,GAAA,eAAA;AACA;;AACA,UAAA,UAAA,GAAA,SAAA,CAAA,SAAA,GAAA,eAAA,EAAA;AACA,QAAA,SAAA,CAAA,SAAA,GAAA,UAAA,GAAA,eAAA;AACA;;AACA,UAAA,OAAA,GAAA,SAAA,CAAA,SAAA,EAAA;AACA,QAAA,SAAA,CAAA,SAAA,GAAA,OAAA;AACA;AAEA,KAjEA;AAkEA,IAAA,cAlEA,4BAkEA;AACA,WAAA,UAAA,CAAA,KAAA;AACA;AApEA;AATA,CAAA","sourcesContent":["<template>\n  <div\n    class=\"popupselect\"\n    v-on:focusout=\"handleFocusOut\"\n    ref=\"popup\"\n    v-on:keydown.up=\"prevItem()\"\n    v-on:keydown.down=\"nextItem()\"\n    v-on:keydown.enter=\"selectItem(selectedIndex)\"\n    :tabindex=\"open ? 0 : -1\"\n  >\n    <div class=\"popupselect-inner-container\" ref=\"container\"\n      v-show=\"open\"\n    >\n      <div v-if=\"title\" class=\"popupselect-title\">{{title}}</div>\n      <div class=\"popupselect-items-container\" ref=\"itemscontainer\">\n        <div v-for=\"(item, ind) in items\" ref=\"items\" :key=\"ind\"\n          class=\"popupselect-item\"\n          :class=\"{'ps-selected': ind===selectedIndex}\"\n          v-on:click=\"selectItem(ind)\"\n          v-on:mouseenter=\"selectedIndex = ind\"\n          v-on:mousemove=\"selectedIndex = ind\"\n        >\n          <span>{{getItemName(ind)}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'PopUpSelect',\n  props: ['toggleElem', 'items', 'nameProp', 'title', 'callback'],\n  data() {\n    return {\n      open: false,\n      selectedIndex: 0\n    }\n  },\n  methods: {\n    toggleOpen(value) {\n      this.open = value;\n      if(!this.open) {\n        this.selectedIndex = 0;\n        return;\n      } else {\n        this.$refs.popup.focus();\n      }\n    },\n    prevItem() {\n      if(this.selectedIndex > 0) {\n        this.selectedIndex--;\n        this.scrollToSelected();\n      }\n    },\n    nextItem() {\n      if(this.selectedIndex < this.items.length-1) {\n        this.selectedIndex++;\n        this.scrollToSelected();\n      }\n    },\n    selectItem(ind) {\n      if(ind >= 0 && this.items[ind]) {\n        if(this.callback) {\n          this.callback(this.items[ind], ind);\n        }\n      }\n      this.toggleOpen(false);\n    },\n    getItemName(ind) {\n      if(this.nameProp && this.items[ind] && this.items[ind].hasOwnProperty(this.nameProp)) {\n        return this.items[ind][this.nameProp];\n      }\n      return '';\n    },\n    scrollToSelected() {\n      let item = this.$refs.items[this.selectedIndex];\n      if(!item) {\n        return;\n      }\n\n      // the itemsHeight and itemsContHeight could also be cached, but well, there are no other expensive processes running in the background anyways\n      let itemBCR = item.getBoundingClientRect();\n      let itemsHeight = itemBCR.height; // all items have the same height\n\n      let itemTop = itemsHeight*(this.selectedIndex);\n      let itemBottom = itemsHeight*(this.selectedIndex+1);\n\n      let itemsCont = this.$refs.itemscontainer;\n      let itemsContHeight = itemsCont.getBoundingClientRect().height;\n\n      if(itemBottom < itemsCont.scrollTop) {\n        itemsCont.scrollTop = itemTop;\n      }\n      if(itemTop > itemsCont.scrollTop + itemsContHeight) {\n        itemsCont.scrollTop = itemBottom - itemsContHeight;\n      }\n      if(itemBottom > itemsCont.scrollTop + itemsContHeight) {\n        itemsCont.scrollTop = itemBottom-itemsContHeight;\n      }\n      if(itemTop < itemsCont.scrollTop) {\n        itemsCont.scrollTop = itemTop;\n      }\n\n    },\n    handleFocusOut() {\n      this.toggleOpen(false);\n    }\n  }\n}\n</script>\n\n<style>\n.popupselect {\n  position: absolute;\n  top: 0px;\n  right: 30px;\n  z-index: 1001;\n}\n.popupselect:focus {\n  border: none;\n  outline: none;\n}\n\n.popupselect-inner-container {\n  width: 268px;\n  font-weight: normal;\n  color: #2d2d2d;\n  background-color: white;\n  box-shadow: 0px 0px 6px 0px rgba(0,0,0,0.4);\n}\n.popupselect-title {\n  border-bottom: 1px solid #dcdcdc;\n  padding: 8px;\n}\n.popupselect-items-container {\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.popupselect-item {\n  padding: 6px 8px;\n}\n\n.ps-selected {\n  background-color: #dcdcdc;\n}\n</style>\n"],"sourceRoot":"src/lib"}]}