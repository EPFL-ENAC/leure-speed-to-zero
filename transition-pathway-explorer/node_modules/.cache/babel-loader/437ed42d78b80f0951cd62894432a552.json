{"remainingRequest":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/components/tabs/emissions/EmissionsByCountry.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/components/tabs/emissions/EmissionsByCountry.vue","mtime":1707210098278},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/vue-loader/lib/index.js","mtime":1707234682968}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n\nimport LineChart from \"../../../charts/LineChart.vue\";\nexport default {\n  name: 'EmissionsByCountry',\n  components: {\n    LineChart: LineChart\n  },\n  props: ['subtab', 'outputs', 'chartDefinitions', 'appState'],\n  data: function data() {\n    return {\n      chart1Data: {} //needs to be made reactive here, otherwise change is not propagated to child-component\n    };\n  },\n  methods: {\n    buildData: function buildData() {\n      var _this = this;\n      //    console.log('EmissionsByCountry ', this.chartDefinitions[this.subtab.charts[0]], this.outputs, this.subtab);\n      /*\n            //console.log('EmissionsByCountry ', allCountriesResponse);\n      \n            let currChart = this.chartDefinitions[this.subtab.charts[0]];\n            var timeAxis = allCountriesResponse.timeAxis;\n            var series = [];\n      \n            //go through countries\n            Object.keys(allCountriesResponse.data).forEach((countryCode) => {\n              if(countryCode === 'EU') {\n                return;\n              }\n              let data = allCountriesResponse.data[countryCode];\n              if(timeAxis && data && data.length === timeAxis.length) {\n                data = data.map((value, index) => {\n                  return [timeAxis[index], value];\n                });\n              }\n              series.push({\n                name: countryCode,\n                data: data\n              });\n            });\n      \n            if(!timeAxis) {\n              return false;\n            }\n      \n            this.chart1Data  = {\n              series: series,\n              title: currChart.title,\n              unit: currChart.unit,\n              timeAxis: timeAxis.slice() //ditch observer, slice() ignores observer\n            }\n      \n      */\n\n      var currChart = this.chartDefinitions[this.subtab.charts[0]];\n\n      //multiple countries: can only process one output, in this case there is only one\n      var outp = currChart.outputs[0];\n      if (!this.outputs[outp.id] || !this.outputs[outp.id].data) {\n        return;\n      }\n      var timeAxis = this.outputs[outp.id].timeAxis;\n      var series = [];\n\n      //    console.log('buildData ', this.outputs[outp.id].data);\n      //go through countries\n      Object.keys(this.outputs[outp.id].data).forEach(function (countryCode) {\n        if (countryCode === 'EU') {\n          return;\n        }\n        var data = _this.outputs[outp.id].data[countryCode];\n        //console.log('buildData ', countryCode, data);\n        if (timeAxis && data && data.length === timeAxis.length) {\n          data = data.map(function (value, index) {\n            return [timeAxis[index], value];\n          });\n        }\n        series.push({\n          name: countryCode,\n          data: data\n        });\n      });\n      if (!timeAxis) {\n        return false;\n      }\n      this.chart1Data = {\n        series: series,\n        title: currChart.title,\n        unit: currChart.unit,\n        timeAxis: timeAxis.slice() //ditch observer, slice() ignores observer\n      };\n    }\n  },\n  created: function created() {\n    //fetch all necessary data/references\n    //console.log('IndEnergyDemand ', this.charts);\n    this.buildData();\n  },\n  watch: {\n    'appState.lastAPIResponse': function appStateLastAPIResponse() {\n      this.buildData();\n    }\n  }\n};",{"version":3,"sources":["EmissionsByCountry.vue"],"names":[],"mappings":";;;;;;;;;AAOA,OAAA,SAAA;AAEA,eAAA;EACA,IAAA,EAAA,oBAAA;EACA,UAAA,EAAA;IAAA,SAAA,EAAA;EAAA,CAAA;EACA,KAAA,EAAA,CAAA,QAAA,EAAA,SAAA,EAAA,kBAAA,EAAA,UAAA,CAAA;EACA,IAAA,WAAA,KAAA,EAAA;IACA,OAAA;MACA,UAAA,EAAA,CAAA,CAAA,CAAA;IACA,CAAA;EACA,CAAA;EACA,OAAA,EAAA;IACA,SAAA,WAAA,UAAA,EAAA;MAAA,IAAA,KAAA;MACA;MACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;MAGA,IAAA,SAAA,GAAA,IAAA,CAAA,gBAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;;MAEA;MACA,IAAA,IAAA,GAAA,SAAA,CAAA,OAAA,CAAA,CAAA,CAAA;MAEA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,IAAA,EAAA;QACA;MACA;MAEA,IAAA,QAAA,GAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,QAAA;MACA,IAAA,MAAA,GAAA,EAAA;;MAEA;MACA;MACA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,UAAA,WAAA,EAAA;QACA,IAAA,WAAA,KAAA,IAAA,EAAA;UACA;QACA;QAEA,IAAA,IAAA,GAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,WAAA,CAAA;QACA;QACA,IAAA,QAAA,IAAA,IAAA,IAAA,IAAA,CAAA,MAAA,KAAA,QAAA,CAAA,MAAA,EAAA;UACA,IAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA,KAAA,EAAA;YACA,OAAA,CAAA,QAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA;UACA,CAAA,CAAA;QACA;QACA,MAAA,CAAA,IAAA,CAAA;UACA,IAAA,EAAA,WAAA;UACA,IAAA,EAAA;QACA,CAAA,CAAA;MACA,CAAA,CAAA;MAEA,IAAA,CAAA,QAAA,EAAA;QACA,OAAA,KAAA;MACA;MAEA,IAAA,CAAA,UAAA,GAAA;QACA,MAAA,EAAA,MAAA;QACA,KAAA,EAAA,SAAA,CAAA,KAAA;QACA,IAAA,EAAA,SAAA,CAAA,IAAA;QACA,QAAA,EAAA,QAAA,CAAA,KAAA,CAAA,CAAA,CAAA;MACA,CAAA;IAEA;EACA,CAAA;EACA,OAAA,WAAA,QAAA,EAAA;IACA;IACA;IACA,IAAA,CAAA,SAAA,CAAA,CAAA;EACA,CAAA;EACA,KAAA,EAAA;IACA,0BAAA,EAAA,SAAA,wBAAA,EAAA;MACA,IAAA,CAAA,SAAA,CAAA,CAAA;IACA;EACA;AACA,CAAA","sourcesContent":["<template>\n  <div class=\"subtab-content\">\n    <LineChart :chart-data=\"chart1Data\"/>\n  </div>\n</template>\n\n<script>\nimport LineChart from '../../../charts/LineChart.vue';\n\nexport default {\n  name: 'EmissionsByCountry',\n  components: {LineChart},\n  props: ['subtab','outputs', 'chartDefinitions','appState'],\n  data() {\n    return {\n      chart1Data: {} //needs to be made reactive here, otherwise change is not propagated to child-component\n    }\n  },\n  methods: {\n    buildData() {\n  //    console.log('EmissionsByCountry ', this.chartDefinitions[this.subtab.charts[0]], this.outputs, this.subtab);\n/*\n      //console.log('EmissionsByCountry ', allCountriesResponse);\n\n      let currChart = this.chartDefinitions[this.subtab.charts[0]];\n      var timeAxis = allCountriesResponse.timeAxis;\n      var series = [];\n\n      //go through countries\n      Object.keys(allCountriesResponse.data).forEach((countryCode) => {\n        if(countryCode === 'EU') {\n          return;\n        }\n        let data = allCountriesResponse.data[countryCode];\n        if(timeAxis && data && data.length === timeAxis.length) {\n          data = data.map((value, index) => {\n            return [timeAxis[index], value];\n          });\n        }\n        series.push({\n          name: countryCode,\n          data: data\n        });\n      });\n\n      if(!timeAxis) {\n        return false;\n      }\n\n      this.chart1Data  = {\n        series: series,\n        title: currChart.title,\n        unit: currChart.unit,\n        timeAxis: timeAxis.slice() //ditch observer, slice() ignores observer\n      }\n\n*/\n\n\n      let currChart = this.chartDefinitions[this.subtab.charts[0]];\n\n      //multiple countries: can only process one output, in this case there is only one\n      let outp = currChart.outputs[0];\n\n      if(!this.outputs[outp.id] || !this.outputs[outp.id].data) {\n        return;\n      }\n\n      var timeAxis = this.outputs[outp.id].timeAxis;\n      var series = [];\n\n  //    console.log('buildData ', this.outputs[outp.id].data);\n      //go through countries\n      Object.keys(this.outputs[outp.id].data).forEach((countryCode) => {\n        if(countryCode === 'EU') {\n          return;\n        }\n\n        let data = this.outputs[outp.id].data[countryCode];\n        //console.log('buildData ', countryCode, data);\n        if(timeAxis && data && data.length === timeAxis.length) {\n          data = data.map((value, index) => {\n            return [timeAxis[index], value];\n          });\n        }\n        series.push({\n          name: countryCode,\n          data: data\n        });\n      });\n\n      if(!timeAxis) {\n        return false;\n      }\n\n      this.chart1Data  = {\n        series: series,\n        title: currChart.title,\n        unit: currChart.unit,\n        timeAxis: timeAxis.slice() //ditch observer, slice() ignores observer\n      }\n\n    }\n  },\n  created() {\n    //fetch all necessary data/references\n    //console.log('IndEnergyDemand ', this.charts);\n    this.buildData();\n  },\n  watch: {\n    'appState.lastAPIResponse': function() {\n      this.buildData();\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n</style>\n"],"sourceRoot":"src/components/tabs/emissions"}]}