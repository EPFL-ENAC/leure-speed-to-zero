{"remainingRequest":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/components/tabs/world/TradeComposition.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/components/tabs/world/TradeComposition.vue","mtime":1707210098279},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/vue-loader/lib/index.js","mtime":1707234682968}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport NoPathwayNotification from \"./NoPathwayNotification.vue\";\nimport * as inputsService from \"../../../inputsService.js\";\nimport { ExamplePathways } from \"../../../config/examplePathways.js\";\nimport { WorldData } from \"./worldData.js\";\nexport default {\n  name: 'TradeComposition',\n  components: {\n    NoPathwayNotification: NoPathwayNotification\n  },\n  props: ['subtab', 'outputs', 'chartDefinitions', 'countrycode', 'appState'],\n  data: function data() {\n    return {\n      chart1Data: undefined,\n      isExamplePathway: this.appState.pathwayIndex > -1,\n      noData: undefined\n    };\n  },\n  methods: {\n    buildData: function buildData() {\n      var currChart = this.chartDefinitions[this.subtab.charts[0]];\n      var currentPathwayName = ExamplePathways[this.appState.pathwayIndex].title;\n      if (!WorldData[currentPathwayName]) {\n        this.noData = true;\n        return;\n      }\n      this.noData = false;\n      var data = [];\n      currChart.structure.forEach(function (row) {\n        data.push({\n          country: row.country,\n          importsFromEU: Math.round(WorldData[currentPathwayName][row.variables[1]]),\n          exportsToEU: Math.round(WorldData[currentPathwayName][row.variables[0]])\n        });\n      });\n      this.chart1Data = {\n        data: data,\n        title: currChart.title\n      };\n    }\n  },\n  created: function created() {\n    // inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    setTimeout(function () {\n      inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n      inputsService.deactivateCountryZoom();\n    }, 0);\n    // inputsService.deactivateCountryZoom();\n\n    if (this.isExamplePathway) {\n      this.buildData();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    inputsService.activateAllGroups();\n    inputsService.activateCountryZoom();\n  },\n  watch: {\n    'appState.pathwayIndex': function appStatePathwayIndex() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n      if (this.isExamplePathway) {\n        this.buildData();\n      }\n    }\n  }\n};",{"version":3,"sources":["TradeComposition.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,qBAAA;AAEA,OAAA,KAAA,aAAA;AACA,SAAA,eAAA;AAEA,SAAA,SAAA;AAGA,eAAA;EACA,IAAA,EAAA,kBAAA;EACA,UAAA,EAAA;IACA,qBAAA,EAAA;EACA,CAAA;EACA,KAAA,EAAA,CAAA,QAAA,EAAA,SAAA,EAAA,kBAAA,EAAA,aAAA,EAAA,UAAA,CAAA;EACA,IAAA,WAAA,KAAA,EAAA;IACA,OAAA;MACA,UAAA,EAAA,SAAA;MACA,gBAAA,EAAA,IAAA,CAAA,QAAA,CAAA,YAAA,GAAA,CAAA,CAAA;MACA,MAAA,EAAA;IACA,CAAA;EACA,CAAA;EACA,OAAA,EAAA;IACA,SAAA,WAAA,UAAA,EAAA;MACA,IAAA,SAAA,GAAA,IAAA,CAAA,gBAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;MAEA,IAAA,kBAAA,GAAA,eAAA,CAAA,IAAA,CAAA,QAAA,CAAA,YAAA,CAAA,CAAA,KAAA;MAEA,IAAA,CAAA,SAAA,CAAA,kBAAA,CAAA,EAAA;QACA,IAAA,CAAA,MAAA,GAAA,IAAA;QACA;MACA;MAEA,IAAA,CAAA,MAAA,GAAA,KAAA;MAEA,IAAA,IAAA,GAAA,EAAA;MAEA,SAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;QACA,IAAA,CAAA,IAAA,CAAA;UACA,OAAA,EAAA,GAAA,CAAA,OAAA;UACA,aAAA,EAAA,IAAA,CAAA,KAAA,CAAA,SAAA,CAAA,kBAAA,CAAA,CAAA,GAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,CAAA;UACA,WAAA,EAAA,IAAA,CAAA,KAAA,CAAA,SAAA,CAAA,kBAAA,CAAA,CAAA,GAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QACA,CAAA,CAAA;MACA,CAAA,CAAA;MAEA,IAAA,CAAA,UAAA,GAAA;QACA,IAAA,EAAA,IAAA;QACA,KAAA,EAAA,SAAA,CAAA;MACA,CAAA;IAEA;EACA,CAAA;EACA,OAAA,WAAA,QAAA,EAAA;IACA;IACA,UAAA,CAAA,YAAA;MACA,aAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,IAAA,CAAA,aAAA,CAAA,WAAA,CAAA,CAAA;MACA,aAAA,CAAA,qBAAA,CAAA,CAAA;IACA,CAAA,EAAA,CAAA,CAAA;IACA;;IAEA,IAAA,IAAA,CAAA,gBAAA,EAAA;MACA,IAAA,CAAA,SAAA,CAAA,CAAA;IACA;EACA,CAAA;EACA,aAAA,WAAA,cAAA,EAAA;IACA,aAAA,CAAA,iBAAA,CAAA,CAAA;IACA,aAAA,CAAA,mBAAA,CAAA,CAAA;EACA,CAAA;EACA,KAAA,EAAA;IACA,uBAAA,EAAA,SAAA,qBAAA,EAAA;MACA,IAAA,CAAA,gBAAA,GAAA,IAAA,CAAA,QAAA,CAAA,YAAA,GAAA,CAAA,CAAA;MACA,IAAA,IAAA,CAAA,gBAAA,EAAA;QACA,IAAA,CAAA,SAAA,CAAA,CAAA;MACA;IACA;EACA;AACA,CAAA","sourcesContent":["<template>\n  <div class=\"subtab-content\" id=\"trade-composition\">\n\n    <div v-if=\"chart1Data && isExamplePathway && !noData\">\n      <h3>{{chart1Data.title}}</h3>\n      <table>\n        <thead>\n          <tr>\n            <th class=\"no-border\"></th>\n            <th colspan=\"2\">Imports from</th>\n            <th colspan=\"2\">Exports to</th>\n          </tr>\n          <tr>\n            <th class=\"no-border\"></th>\n            <th>Rest of EU</th>\n            <th>Rest of World</th>\n            <th>Rest of EU</th>\n            <th>Rest of World</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"entry in chart1Data.data\" :key=\"entry.country\">\n            <td>{{entry.country}}</td>\n            <td>{{entry.importsFromEU}} %</td>\n            <td>{{100-entry.importsFromEU}} %</td>\n            <td>{{entry.exportsToEU}} %</td>\n            <td>{{100-entry.exportsToEU}} %</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <NoPathwayNotification\n      :no-data=\"noData\"\n      :app-state=\"appState\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport NoPathwayNotification from './NoPathwayNotification.vue';\n\nimport * as inputsService from '../../../inputsService.js';\nimport {ExamplePathways} from '../../../config/examplePathways.js';\n\nimport {WorldData} from './worldData.js';\n\n\nexport default {\n  name: 'TradeComposition',\n  components: {\n    NoPathwayNotification\n  },\n  props: ['subtab','outputs','chartDefinitions','countrycode','appState'],\n  data() {\n    return {\n      chart1Data: undefined,\n      isExamplePathway: this.appState.pathwayIndex > -1,\n      noData: undefined\n    }\n  },\n  methods: {\n    buildData() {\n      let currChart = this.chartDefinitions[this.subtab.charts[0]];\n\n      let currentPathwayName = ExamplePathways[this.appState.pathwayIndex].title;\n\n      if(!WorldData[currentPathwayName]) {\n        this.noData = true;\n        return;\n      }\n\n      this.noData = false;\n\n      let data = [];\n\n      currChart.structure.forEach((row) => {\n        data.push({\n          country: row.country,\n          importsFromEU: Math.round(WorldData[currentPathwayName][row.variables[1]]),\n          exportsToEU: Math.round(WorldData[currentPathwayName][row.variables[0]])\n        })\n      });\n\n      this.chart1Data = {\n        data: data,\n        title: currChart.title\n      };\n\n    }\n  },\n  created() {\n    // inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    setTimeout(() => {\n      inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n      inputsService.deactivateCountryZoom();\n    },0);\n    // inputsService.deactivateCountryZoom();\n\n    if(this.isExamplePathway) {\n      this.buildData();\n    }\n  },\n  beforeDestroy() {\n    inputsService.activateAllGroups();\n    inputsService.activateCountryZoom();\n  },\n  watch: {\n    'appState.pathwayIndex': function() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n      if(this.isExamplePathway) {\n        this.buildData();\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n#trade-composition h3 {\n  text-align: center;\n  margin-bottom: 30px;\n}\n#trade-composition table {\n  border-collapse: collapse;\n  margin: 0px auto;\n}\n#trade-composition table th, #trade-composition table td {\n  /* border-bottom: 1px solid black; */\n  border: 1px solid grey;\n  padding: 5px;\n}\n#trade-composition table .no-border {\n  border: none;\n}\n</style>\n"],"sourceRoot":"src/components/tabs/world"}]}