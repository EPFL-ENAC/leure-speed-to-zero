{"remainingRequest":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/babel-loader/lib/index.js!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/src/components/LeversTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/src/components/LeversTable.vue","mtime":1707210098268},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/EUcalc/paris-tool/transition-pathway-explorer/node_modules/vue-loader/lib/index.js","mtime":1707234519986}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as dataService from \"../dataService.js\";\nimport * as inputsService from \"../inputsService.js\";\nimport * as helpers from \"../helpers.js\";\nimport Levers from \"./Levers.vue\";\nimport DropDown from \"../lib/DropDown.vue\";\nimport PopUpSelect from \"../lib/PopUpSelect.vue\";\nexport default {\n  name: 'LeversTable',\n  components: {\n    Levers: Levers,\n    DropDown: DropDown,\n    PopUpSelect: PopUpSelect\n  },\n  props: ['appState'],\n  data: function data() {\n    return {\n      selected: inputsService.selected //reactive because dynamic names are needed above navigation levers\n\n    };\n  },\n  created: function created() {\n    this.selectableCountries = inputsService.selectableCountries;\n  },\n  methods: {\n    openCountrySelect: function openCountrySelect() {\n      // don't allow any change when countryZoom is disabled (during a long fetch)\n      if (this.appState.countryZoomDisabled) {\n        return;\n      }\n\n      this.$refs.countrySelect.toggleOpen(true);\n    },\n    selectCountry: function selectCountry(countr) {\n      // don't allow any change when countryZoom is disabled (during a long fetch)\n      if (this.appState.countryZoomDisabled) {\n        return;\n      } // Mobile and Desktop\n\n\n      if (countr && countr.id && countr.id !== 'EU' && inputsService.countries[countr.id]) {\n        inputsService.setSelectedCountry(countr.id);\n      } else {\n        inputsService.unselectCountry();\n        inputsService.checkIfLeversMatchExamplePathway();\n      } // Desktop only\n\n\n      if (!this.appState.isMobile) {\n        dataService.rewriteURL(dataService.updateURLParams());\n        dataService.debouncedFetch(); //this triggers the HighCharts built-in redraw event. Not a very elegant solution, but very short\n\n        helpers.triggerWindowResize();\n      } // Mobile only\n\n\n      if (this.appState.isMobile) {\n        // send availability request\n        dataService.availabilityRequest();\n      }\n    }\n  }\n};",{"version":3,"sources":["LeversTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,KAAA,WAAA;AACA,OAAA,KAAA,aAAA;AACA,OAAA,KAAA,OAAA;AAEA,OAAA,MAAA;AACA,OAAA,QAAA;AACA,OAAA,WAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AACA,IAAA,QAAA,EAAA,QADA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA,CAAA,UAAA,CALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,aAAA,CAAA,QADA,CACA;;AADA,KAAA;AAGA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,mBAAA,GAAA,aAAA,CAAA,mBAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA;AACA,UAAA,KAAA,QAAA,CAAA,mBAAA,EAAA;AACA;AACA;;AACA,WAAA,KAAA,CAAA,aAAA,CAAA,UAAA,CAAA,IAAA;AACA,KAPA;AAQA,IAAA,aARA,yBAQA,MARA,EAQA;AAEA;AACA,UAAA,KAAA,QAAA,CAAA,mBAAA,EAAA;AACA;AACA,OALA,CAOA;;;AACA,UAAA,MAAA,IAAA,MAAA,CAAA,EAAA,IAAA,MAAA,CAAA,EAAA,KAAA,IAAA,IAAA,aAAA,CAAA,SAAA,CAAA,MAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,aAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,EAAA;AACA,OAFA,MAEA;AACA,QAAA,aAAA,CAAA,eAAA;AACA,QAAA,aAAA,CAAA,gCAAA;AACA,OAbA,CAeA;;;AACA,UAAA,CAAA,KAAA,QAAA,CAAA,QAAA,EAAA;AACA,QAAA,WAAA,CAAA,UAAA,CAAA,WAAA,CAAA,eAAA,EAAA;AACA,QAAA,WAAA,CAAA,cAAA,GAFA,CAIA;;AACA,QAAA,OAAA,CAAA,mBAAA;AACA,OAtBA,CAwBA;;;AACA,UAAA,KAAA,QAAA,CAAA,QAAA,EAAA;AACA;AACA,QAAA,WAAA,CAAA,mBAAA;AACA;AAEA;AAtCA;AAdA,CAAA","sourcesContent":["<template>\n  <div id=\"levers-table\">\n    <div id=\"levers-header\" >\n      <span class=\"country-name-field levers-column2\">\n        <span class=\"country-name\">{{selected[0].name}}</span>\n\n        <span class=\"country-toggle-button\" v-if=\"selected.length<2\"\n          :class=\"{deactivated: appState.countryZoomDisabled}\"\n          v-on:click=\"openCountrySelect\"\n          v-on:keydown.enter=\"openCountrySelect\"\n          tabindex=\"0\"\n        >\n          <img src=\"/img/add.svg\">\n        </span>\n        <PopUpSelect ref=\"countrySelect\"\n          :toggle-elem=\"$refs.countryToggle\" :items=\"selectableCountries\"\n          title=\"Zoom into a country within Europe:\"\n          name-prop=\"name\" :callback=\"selectCountry\"\n        />\n\n      </span>\n      <span v-if=\"selected.length===2\" class=\"country-name-field levers-column3\">\n        <span class=\"country-name\">{{selected[1].name}}</span>\n        <span class=\"country-toggle-button\"\n          :class=\"{deactivated: appState.countryZoomDisabled}\"\n          v-on:click=\"selectCountry(false)\"\n          v-on:keydown.enter=\"selectCountry(false)\"\n          tabindex=\"0\"\n        >\n          <img src=\"/img/remove.svg\">\n        </span>\n      </span>\n    </div>\n\n    <div id=\"levers-main\">\n      <Levers :selected=\"selected\" :app-state=\"appState\"/>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport * as dataService from '../dataService.js';\nimport * as inputsService from '../inputsService.js';\nimport * as helpers from '../helpers.js';\n\nimport Levers from './Levers.vue';\nimport DropDown from '../lib/DropDown.vue';\nimport PopUpSelect from '../lib/PopUpSelect.vue';\n\n\nexport default {\n  name: 'LeversTable',\n  components: {\n    Levers, DropDown, PopUpSelect\n  },\n  props: ['appState'],\n  data() {\n    return {\n      selected: inputsService.selected //reactive because dynamic names are needed above navigation levers\n    }\n  },\n  created() {\n    this.selectableCountries = inputsService.selectableCountries;\n  },\n  methods: {\n    openCountrySelect() {\n      // don't allow any change when countryZoom is disabled (during a long fetch)\n      if(this.appState.countryZoomDisabled) {\n        return;\n      }\n      this.$refs.countrySelect.toggleOpen(true);\n    },\n    selectCountry(countr) {\n\n      // don't allow any change when countryZoom is disabled (during a long fetch)\n      if(this.appState.countryZoomDisabled) {\n        return;\n      }\n\n      // Mobile and Desktop\n      if(countr && countr.id && countr.id !== 'EU' && inputsService.countries[countr.id]) {\n        inputsService.setSelectedCountry(countr.id);\n      } else {\n        inputsService.unselectCountry();\n        inputsService.checkIfLeversMatchExamplePathway();\n      }\n\n      // Desktop only\n      if(!this.appState.isMobile) {\n        dataService.rewriteURL(dataService.updateURLParams());\n        dataService.debouncedFetch();\n\n        //this triggers the HighCharts built-in redraw event. Not a very elegant solution, but very short\n        helpers.triggerWindowResize();\n      }\n\n      // Mobile only\n      if(this.appState.isMobile) {\n        // send availability request\n        dataService.availabilityRequest();\n      }\n\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n</style>\n"],"sourceRoot":"src/components"}]}