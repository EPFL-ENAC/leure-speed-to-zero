{"remainingRequest":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/components/tabs/world/SectoralTrade.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/src/components/tabs/world/SectoralTrade.vue","mtime":1707210098279},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/babel-loader/lib/index.js","mtime":1707234519797},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/cache-loader/dist/cjs.js","mtime":1707234519865},{"path":"/Users/paruta/2050-Calculators/PCalc/transition-pathway-explorer/node_modules/vue-loader/lib/index.js","mtime":1707234682968}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport BarChart from '../../../charts/BarChart.vue';\nimport NoPathwayNotification from './NoPathwayNotification.vue';\n\nimport * as inputsService from '../../../inputsService.js';\nimport {ExamplePathways} from '../../../config/examplePathways.js';\n\nimport {WorldData} from './worldData.js';\n\nexport default {\n  name: 'SectoralTrade',\n  components: {\n    BarChart,\n    NoPathwayNotification\n  },\n  props: ['subtab','outputs','chartDefinitions','countrycode','appState'],\n  data() {\n    return {\n      chart1Data: undefined,\n      isExamplePathway: this.appState.pathwayIndex > -1,\n      noData: undefined\n    }\n  },\n  methods: {\n    buildData() {\n      let currChart = this.chartDefinitions[this.subtab.charts[0]];\n\n      let currentPathwayName = ExamplePathways[this.appState.pathwayIndex].title;\n\n      if(!WorldData[currentPathwayName]) {\n        this.noData = true;\n        return;\n      }\n\n      this.noData = false;\n\n      let categories = [];\n\n      let dataExports = [];\n      let dataImports = [];\n      let dataTradeBalance = [];\n      /*\n      exports\n      imports\n      trade balance\n      */\n\n\n      currChart.structure.forEach((row) => {\n        categories.push(row.category);\n        dataExports.push(WorldData[currentPathwayName][row.variables[0]]);\n        dataImports.push(WorldData[currentPathwayName][row.variables[1]]);\n        dataTradeBalance.push(WorldData[currentPathwayName][row.variables[2]]);\n      });\n\n      // console.log(categories,data);\n\n      this.chart1Data = {\n        series: [\n          {\n            name: \"Change in Export\",\n            data: dataExports\n          },\n          {\n            name: \"Change in Import\",\n            data: dataImports\n          },\n          {\n            name: \"Change in Trade Balance\",\n            data: dataTradeBalance,\n            type: 'line',\n            lineWidth: 0,\n            color: 'red',\n            states: {\n              hover: {\n                enabled: false,\n                lineWidth: 0\n              }\n            }\n          }\n        ],\n        title: currChart.title,\n        unit: currChart.unit,\n        categories: categories\n      };\n\n    }\n  },\n  created() {\n    // inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    setTimeout(() => {\n      inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n      inputsService.deactivateCountryZoom();\n    },0);\n    // inputsService.deactivateCountryZoom();\n\n    if(this.isExamplePathway) {\n      this.buildData();\n    }\n  },\n  beforeDestroy() {\n    inputsService.activateAllGroups();\n    inputsService.activateCountryZoom();\n  },\n  watch: {\n    'appState.pathwayIndex': function() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n      if(this.isExamplePathway) {\n        this.buildData();\n      }\n    }\n  }\n}\n",{"version":3,"sources":["SectoralTrade.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SectoralTrade.vue","sourceRoot":"src/components/tabs/world","sourcesContent":["<template>\n  <div class=\"subtab-content\">\n    <BarChart v-if=\"chart1Data && isExamplePathway && !noData\" :chart-data=\"chart1Data\"/>\n\n    <NoPathwayNotification\n      :no-data=\"noData\"\n      :app-state=\"appState\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport BarChart from '../../../charts/BarChart.vue';\nimport NoPathwayNotification from './NoPathwayNotification.vue';\n\nimport * as inputsService from '../../../inputsService.js';\nimport {ExamplePathways} from '../../../config/examplePathways.js';\n\nimport {WorldData} from './worldData.js';\n\nexport default {\n  name: 'SectoralTrade',\n  components: {\n    BarChart,\n    NoPathwayNotification\n  },\n  props: ['subtab','outputs','chartDefinitions','countrycode','appState'],\n  data() {\n    return {\n      chart1Data: undefined,\n      isExamplePathway: this.appState.pathwayIndex > -1,\n      noData: undefined\n    }\n  },\n  methods: {\n    buildData() {\n      let currChart = this.chartDefinitions[this.subtab.charts[0]];\n\n      let currentPathwayName = ExamplePathways[this.appState.pathwayIndex].title;\n\n      if(!WorldData[currentPathwayName]) {\n        this.noData = true;\n        return;\n      }\n\n      this.noData = false;\n\n      let categories = [];\n\n      let dataExports = [];\n      let dataImports = [];\n      let dataTradeBalance = [];\n      /*\n      exports\n      imports\n      trade balance\n      */\n\n\n      currChart.structure.forEach((row) => {\n        categories.push(row.category);\n        dataExports.push(WorldData[currentPathwayName][row.variables[0]]);\n        dataImports.push(WorldData[currentPathwayName][row.variables[1]]);\n        dataTradeBalance.push(WorldData[currentPathwayName][row.variables[2]]);\n      });\n\n      // console.log(categories,data);\n\n      this.chart1Data = {\n        series: [\n          {\n            name: \"Change in Export\",\n            data: dataExports\n          },\n          {\n            name: \"Change in Import\",\n            data: dataImports\n          },\n          {\n            name: \"Change in Trade Balance\",\n            data: dataTradeBalance,\n            type: 'line',\n            lineWidth: 0,\n            color: 'red',\n            states: {\n              hover: {\n                enabled: false,\n                lineWidth: 0\n              }\n            }\n          }\n        ],\n        title: currChart.title,\n        unit: currChart.unit,\n        categories: categories\n      };\n\n    }\n  },\n  created() {\n    // inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n    setTimeout(() => {\n      inputsService.deactivateGroups(Object.keys(inputsService.leverGroups));\n      inputsService.deactivateCountryZoom();\n    },0);\n    // inputsService.deactivateCountryZoom();\n\n    if(this.isExamplePathway) {\n      this.buildData();\n    }\n  },\n  beforeDestroy() {\n    inputsService.activateAllGroups();\n    inputsService.activateCountryZoom();\n  },\n  watch: {\n    'appState.pathwayIndex': function() {\n      this.isExamplePathway = this.appState.pathwayIndex > -1;\n      if(this.isExamplePathway) {\n        this.buildData();\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n</style>\n"]}]}